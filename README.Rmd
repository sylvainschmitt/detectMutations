---
title: "detect Mutations"
author: Sylvain Schmitt
date: April 20, 2021
output:
  github_document: 
    toc: yes
---

```{r setup, include=FALSE}
rm(list = ls()) ; invisible(gc()) ; set.seed(42)
library(knitr)
library(kableExtra)
if(knitr:::is_html_output()) options(knitr.table.format = "html") 
if(knitr:::is_latex_output()) options(knitr.table.format = "latex") 
library(tidyverse)
theme_set(bayesplot::theme_default())
opts_chunk$set(echo = F, message = F, warning = F, fig.height = 6, fig.width = 8,
               cache = F, cache.lazy = F)
```

Development of a [`singularity` & `snakemake`](https://github.com/sylvainschmitt/snakemake_singularity) workflow to detect mutations with several alignment and mutation detection tools.

# Align

*Align reads against reference.*

## Software 1

* Rules: [`rule`](https://github.com/sylvainschmitt/generateMutations/blob/main/rules/rule.smk)
* Tools: [`tool`](url)
* Singularity: url
* Parameter: `r yaml::read_yaml("config/config.yml")$par`

# Detect

*Detect and filter mutations in alignments.*

## Software 1

* Rules: [`rule`](https://github.com/sylvainschmitt/generateMutations/blob/main/rules/rule.smk)
* Tools: [`tool`](url)
* Singularity: url
* Parameter: `r yaml::read_yaml("config/config.yml")$par`

# Miscellaneous

## Commands

*To run locally.*

```{bash, eval=F, echo=T}
snakemake -np 
snakemake --dag | dot -Tsvg > dag/dag.svg
snakemake --use-singularity --cores 4
snakemake --report results/report.html
```

## Direct Acyclic Graph

*Represent rules.*

```{r, eval=F}
knitr::include_graphics("dag/dag.svg")
```

## Resources

* [TreeMutation pages](https://treemutation.netlify.app/mutations-detection.html#in-silico-mutations)
